(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[3],{100:function(t,e,n){t.exports={postsBlock:"MyPost_postsBlock__38F5G",posts:"MyPost_posts__2Np6r",textarea:"MyPost_textarea__1obr-",button:"MyPost_button__1SCyF"}},104:function(t,e,n){"use strict";n.r(e);var r=n(2),s=n(25),o=n(26),i=n(31),c=n(29),a=n(0),u=n.n(a),l=n(94),j=n(97),p=n.n(j),b=n(30),f=n(1),h=function(t){Object(a.useEffect)((function(){s(t.status)}),[t.status]);var e=Object(a.useState)(t.status),n=Object(l.a)(e,2),r=n[0],s=n[1],o=Object(a.useState)(!1),i=Object(l.a)(o,2),c=i[0],u=i[1];return Object(f.jsx)("div",{children:c?Object(f.jsx)("div",{children:Object(f.jsx)("input",{value:r,onChange:function(t){return function(t){return s(t.currentTarget.value)}(t)},onBlur:function(){u(!1),t.updateStatus(r)},autoFocus:!0})}):Object(f.jsxs)("div",{children:["status: ",Object(f.jsx)("span",{onDoubleClick:function(){return u(!0)},children:r||"No status"})]})})},d=n.p+"static/media/nophotoava.1845a328.png",O=n(98),x=n.n(O),v=function(t){return Object(f.jsxs)("div",{className:x.a.contacts,children:[t.contactTitle,": ",t.contactValue]})},m=function(t){var e=Object(a.useState)(t.contactValue),n=Object(l.a)(e,2),r=n[0],s=n[1];return Object(f.jsxs)("div",{className:x.a.contacts,children:[t.contactTitle,": ",Object(f.jsx)("input",{value:r,onChange:function(t){s(t.currentTarget.value)}})]})},g=function(t){var e=Object(a.useState)(t.profile.fullName),n=Object(l.a)(e,2),r=n[0],s=n[1],o=Object(a.useState)(t.profile.aboutMe),i=Object(l.a)(o,2),c=i[0],u=i[1],j=Object(a.useState)(t.profile.lookingForAJob),p=Object(l.a)(j,2),b=p[0],h=p[1],d=Object(a.useState)(t.profile.lookingForAJobDescription),O=Object(l.a)(d,2),x=O[0],v=O[1];return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{children:["My name ",Object(f.jsx)("input",{value:r,onChange:function(t){return s(t.currentTarget.value)}})]}),Object(f.jsxs)("p",{children:["About me: ",Object(f.jsx)("textarea",{value:c,onChange:function(t){return u(t.currentTarget.value)}})]})]}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{children:["Looking for a job: ",Object(f.jsx)("input",{type:"checkbox",checked:b,onChange:function(t){return h(t.currentTarget.checked)}})]}),Object(f.jsxs)("p",{children:["My professional skills: ",Object(f.jsx)("textarea",{value:x,onChange:function(t){return v(t.currentTarget.value)}})]})]}),Object(f.jsx)("div",{children:t.profile.contacts&&Object(f.jsxs)("p",{children:["Contacts: ",Object.keys(t.profile.contacts).map((function(e){var n;return Object(f.jsx)(m,{contactTitle:e,contactValue:null===(n=t.profile)||void 0===n?void 0:n.contacts[e]},e)}))]})}),Object(f.jsx)("button",{onClick:function(){var e={fullName:r,aboutMe:c,lookingForAJob:b,lookingForAJobDescription:x};t.setProfileData(e),t.changeEditMode()},children:"Save"})]})},k=n(45),P=function(t){var e=Object(a.useState)(!1),n=Object(l.a)(e,2),r=n[0],s=n[1];if(!t.profile)return Object(f.jsx)(b.a,{});return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:p.a.descriptionBlock,children:[t.profile.photos.large?Object(f.jsx)("img",{className:p.a.picture,src:t.profile.photos.large}):Object(f.jsx)("img",{src:d,className:p.a.picture}),Object(f.jsx)(h,{status:t.status,updateStatus:t.updateStatus}),t.isOwner&&Object(f.jsxs)("div",{children:["\u0414\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u043e\u0432\u043e\u0433\u043e \u0430\u0432\u0430\u0442\u0430\u0440\u0430 ",Object(f.jsx)("input",{type:"file",onChange:function(e){null!==e.target.files&&t.savePhoto(e.target.files[0])}})]})]}),r?Object(f.jsx)(g,{profile:t.profile,changeEditMode:function(){return s(!1)},setProfileData:t.setProfileData}):Object(f.jsx)(y,{profile:t.profile,isOwner:t.isOwner,changeEditMode:function(){return s(!0)}})]})},y=function(t){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{children:["My name ",t.profile.fullName]}),Object(f.jsxs)("p",{children:["About me: ",t.profile.aboutMe]})]}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{children:["Looking for a job: ",t.profile.lookingForAJob?"yes":"no"]}),Object(f.jsxs)("p",{children:["My professional skills: ",t.profile.lookingForAJobDescription]})]}),Object(f.jsx)("div",{children:t.profile.contacts&&Object(f.jsxs)("p",{children:["Contacts: ",Object.keys(t.profile.contacts).map((function(e){var n;return Object(f.jsx)(v,{contactTitle:e,contactValue:null===(n=t.profile)||void 0===n?void 0:n.contacts[e]},e)}))]})}),t.isOwner&&Object(f.jsx)(k.a,{nameButton:"Change Profile Info",functionForClick:t.changeEditMode})]})},S=n(42),T=n(17),w=n(40),_=n(99),C=n.n(_),M=function(t){return Object(f.jsxs)("div",{className:C.a.item,children:[Object(f.jsx)("img",{src:"https://i.pinimg.com/236x/ad/f8/46/adf8468dafd48dc33091e0790d000c0e--dog-breath-high-five.jpg?nii=t"}),t.message,Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{children:"\u2661 "}),t.likesCount]})]})},A=n(100),N=n.n(A),D=n(96),I=u.a.memo((function(){var t=Object(T.d)((function(t){return t.profilePage.posts})),e=Object(T.c)(),n=Object(S.a)({initialValues:{newPostText:""},onSubmit:function(t){e(Object(w.a)(t.newPostText)),n.resetForm()},validate:function(t){var e={};return t.newPostText||(e.newPostText="Post must be more 0 symbols "),e}}),r=t.map((function(t){return Object(f.jsx)(M,{message:t.message,likesCount:t.likesCount},t.id)}));return Object(f.jsxs)("div",{className:N.a.postsBlock,children:[Object(f.jsx)("h3",{children:"My posts"}),Object(f.jsxs)("form",{onSubmit:n.handleSubmit,children:[Object(f.jsx)("textarea",{className:N.a.textarea,name:"newPostText",onChange:n.handleChange,value:n.values.newPostText,onBlur:n.handleBlur,placeholder:"write a new POST"}),Object(f.jsx)("button",{className:N.a.button,children:"Create POST"})]}),n.errors.newPostText&&Object(f.jsx)("div",{style:{color:"red"},children:n.errors.newPostText}),Object(f.jsx)("div",{className:N.a.posts,children:r})]})})),F=(Object(D.a)(10),I),B=function(t){return Object(f.jsxs)("div",{children:[Object(f.jsx)(P,{profile:t.profile,status:t.status,updateStatus:t.updateStatus,isOwner:t.isOwner,savePhoto:t.setPhoto,setProfileData:t.setProfileData}),Object(f.jsx)(F,{})]})},W=n(5);function J(t,e){if(null==t)return{};var n,r,s=function(t,e){if(null==t)return{};var n,r,s={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(s[n]=t[n]);return s}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var E=function(t){return{isAuth:t.auth.isAuth}};var V=n(23),U=function(t){Object(i.a)(n,t);var e=Object(c.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorisedUserID)||this.props.history.push("/login"),this.props.getUserProfileWithThunk(t),this.props.getStatusWithThunk(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,n){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(f.jsx)(B,Object(r.a)(Object(r.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatusWithThunk,setPhoto:this.props.updatePhotoWithThunk,setProfileData:this.props.updateProfileWithThunk}))}}]),n}(u.a.Component);e.default=Object(V.c)(Object(T.b)((function(t){return{profile:t.profilePage.profile,posts:t.profilePage.posts,status:t.profilePage.status,authorisedUserID:t.auth.id,isAuth:t.auth.isAuth}}),{getUserProfileWithThunk:w.d,getStatusWithThunk:w.c,updateStatusWithThunk:w.g,updatePhotoWithThunk:w.e,updateProfileWithThunk:w.f}),W.g,(function(t){return Object(T.b)(E)((function(e){var n=e.isAuth,s=J(e,["isAuth"]);return n?Object(f.jsx)(t,Object(r.a)({},s)):Object(f.jsx)(W.a,{to:"/login"})}))}))(U)},94:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(41);function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,s=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(a){s=!0,o=a}finally{try{r||null==c.return||c.return()}finally{if(s)throw o}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},96:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return function(e){return e.length>t?"Max length is ".concat(t," symbols"):void 0}}},97:function(t,e,n){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3sjtI",picture:"ProfileInfo_picture__dwuAz"}},98:function(t,e,n){t.exports={contacts:"Contacts_contacts__2P44K"}},99:function(t,e,n){t.exports={item:"Post_item__3Vikn"}}}]);
//# sourceMappingURL=3.50d1427f.chunk.js.map