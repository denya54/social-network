{"version":3,"sources":["assets/images/Spinner-1s-200px.svg","components/common/Preloader/Preloader.tsx","components/Header/Header.module.css","redux/profile-reducer.ts","components/ButtonApp.tsx","redux/dialog-reducer.ts","redux/users-reducer.ts","components/ButtonApp.module.css","api/api.ts","components/NavBar/NavBar.module.css","components/NavBar/NavBar.tsx","components/Header/Header.tsx","redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","redux/app-reducer.ts","components/Login/LoginFormik.tsx","assets/images/inProgress.png","components/InProgress/InProgress.tsx","App.tsx","reportWebVitals.ts","redux/redux-store.ts","index.tsx"],"names":["Preloader","style","backgroundColor","src","preloader","module","exports","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SET_PHOTO","initialState","posts","id","message","likesCount","profile","status","addPostActionCreator","postText","type","postMessage","setStatusActionCreator","getUserProfileThunk","userId","dispatch","a","userAPI","getProfile","response","data","getStatusThunk","profileAPI","getStatus","updateStatusThunk","updateStatus","resultCode","alert","updatePhotoThunk","photo","updatePhoto","photos","updateProfileThunk","profileData","getState","myID","auth","updateMyProfile","profileReducer","state","action","filter","p","postID","ButtonApp","props","className","classes","butt","onClick","functionForClick","nameButton","SEND_MESSAGE","dialogNames","name","ava","dialogMessages","sendMessageCreator","messageText","NewText","dialogReducer","body","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followAC","userID","unFollowAC","setUsersAC","setCurrentPageAC","pageNumber","setTotalUsersCountAC","totalCount","toggleIsFetching","followingProgressAC","requestUsersThunkCreator","getUsers","items","followUnfollowFlow","apiMethod","actionCreator","followThunk","follow","bind","unFollowThunk","unfollow","usersReducer","map","user","followed","instance","axios","create","withCredentials","headers","baseURL","get","then","post","delete","newStatus","put","formData","FormData","append","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","NavBar","nav","item","to","activeClassName","activeLink","active","Header","header","loginBlock","isAuth","logoutTC","SET_USER_DATA","GET_CAPTCHA_URL","GET_AUTH_ERROR","error","setAuthUserData","payload","getCaptchaUrlAC","captchaURL","getAuthUserDataThunk","getCaptchaURLTC","url","authReducer","HeaderContainer","this","React","Component","connect","SET_INITIALIZED","initialized","appReducer","LoginFormik","useSelector","isAuthError","useDispatch","formik","useFormik","initialValues","onSubmit","values","messages","length","loginTC","validate","errors","handleSubmit","onChange","handleChange","value","onBlur","handleBlur","touched","color","checked","InProgress","picture","DialogsWithoutContainer","lazy","ProfileContainer","UsersContainer","App","initializeAppWithThunk","exact","path","render","app","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","profilePage","dialogsPage","usersPage","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","Suspense","fallback","document","getElementById"],"mappings":"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","file":"static/js/main.5ddc03fe.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Spinner-1s-200px.0a5f0db6.svg\";","import preloader from \"../../../assets/images/Spinner-1s-200px.svg\";\r\nimport React from \"react\";\r\n\r\n\r\nexport const Preloader = () => {\r\n    return  <div style={{backgroundColor: 'white'}}> <img src={preloader}/> </div>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__36BEZ\",\"loginBlock\":\"Header_loginBlock__2fS4w\"};","import {profileAPI, userAPI} from \"../api/api\";\r\nimport {StateType} from \"./redux-store\";\r\n\r\nexport type contactsType = {\r\n    facebook: string | null\r\n    website: string | null\r\n    vk: string | null\r\n    twitter: string | null\r\n    instagram: string | null\r\n    youtube: string | null\r\n    github: string | null\r\n    mainLink: string | null\r\n}\r\n\r\ntype photosType = {\r\n    small: string | undefined\r\n    large: string | undefined\r\n}\r\n\r\nexport type UserProfileType = {\r\n    aboutMe?: string\r\n    contacts?: contactsType\r\n    lookingForAJob?: boolean\r\n    lookingForAJobDescription?: string\r\n    fullName?: string\r\n    userId?: string\r\n    photos: photosType\r\n}\r\n\r\nexport type profileStatusType = {\r\n    resultCode: number\r\n    messages: Array<string>\r\n    data: object\r\n}\r\n\r\nexport type profilePhotoType = {\r\n    resultCode: number\r\n    messages: Array<string>\r\n    data: {\r\n        photos: {\r\n            small: string\r\n            large: string\r\n        }\r\n    }\r\n}\r\n\r\nconst ADD_POST = 'profile/ADD-POST'\r\nconst SET_USER_PROFILE = 'profile/SET-USER-PROFILE'\r\nconst SET_STATUS = 'profile/SET-STATUS'\r\nconst DELETE_POST = 'profile/DELETE-POST'\r\nconst SET_PHOTO = 'profile/SET-PHOTO'\r\n\r\nexport type postType = {\r\n    id?: number\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\nexport type profilePageType = {\r\n    posts: Array<postType>\r\n    profile: UserProfileType | null\r\n    status: string\r\n}\r\n\r\n\r\nlet initialState: profilePageType = {\r\n    posts: [\r\n        {id: 1, message: \"My first GAV\", likesCount: 12},\r\n        {id: 2, message: \"Don`t like Myay\", likesCount: 10},\r\n        {id: 3, message: \"How do you do?\", likesCount: 16},\r\n    ] as Array<postType>,\r\n    profile: null,\r\n    status: \"\",\r\n};\r\n\r\nconst profileReducer = (state: profilePageType = initialState, action: ActionProfileType): profilePageType => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                // newPostText: '',\r\n                posts: [...state.posts, {\r\n                    id: 4,\r\n                    message: action.postMessage,\r\n                    likesCount: 0\r\n                }]\r\n            }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {...state, posts: state.posts.filter(p => p.id !== action.postID)}\r\n        }\r\n        case SET_PHOTO: {\r\n            return {...state, profile: {...state.profile, photos: action.photos}}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport type AddPostActionType = ReturnType<typeof addPostActionCreator>\r\nexport type SetUserProfileReturnType = ReturnType<typeof setUserProfileAC>\r\nexport type SetStatusReturnType = ReturnType<typeof setStatusActionCreator>\r\nexport type DeletePostReturnType = ReturnType<typeof deletePostActionCreator>\r\nexport type SetPhotoReturnType = ReturnType<typeof setPhotoActionCreator>\r\n\r\ntype ActionProfileType = AddPostActionType\r\n    | SetUserProfileReturnType\r\n    | SetStatusReturnType\r\n    | DeletePostReturnType\r\n    | SetPhotoReturnType\r\n\r\nexport const addPostActionCreator = (postText: string) => ({type: ADD_POST, postMessage: postText} as const)\r\nexport const setUserProfileAC = (profile: UserProfileType) => ({type: SET_USER_PROFILE, profile} as const)\r\nexport const setStatusActionCreator = (status: string) => ({type: SET_STATUS, status} as const)\r\nexport const deletePostActionCreator = (postID: number) => ({type: DELETE_POST, postID} as const)\r\nexport const setPhotoActionCreator = (photos: photosType) => ({type: SET_PHOTO, photos} as const)\r\nexport const setMyProfileActionCreator = (photos: photosType) => ({type: SET_PHOTO, photos} as const)\r\n\r\n\r\nexport const getUserProfileThunk = (userId: string) => async (dispatch: any) => {\r\n    let response = await userAPI.getProfile(userId)\r\n    dispatch(setUserProfileAC(response.data))\r\n}\r\n\r\nexport const getStatusThunk = (userId: string) => async (dispatch: any) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatusActionCreator(response.data))\r\n}\r\n\r\nexport const updateStatusThunk = (status: string) => async (dispatch: any) => {\r\n    try {\r\n        let response = await profileAPI.updateStatus(status)\r\n        if (response.data.resultCode === 0)\r\n            dispatch(setStatusActionCreator(status))\r\n    } catch (error) {\r\n        alert(error.message)\r\n    }\r\n\r\n}\r\n\r\nexport const updatePhotoThunk = (photo: File) => async (dispatch: any) => {\r\n    let response = await profileAPI.updatePhoto(photo)\r\n    if (response.data.resultCode === 0)\r\n        dispatch(setPhotoActionCreator(response.data.data.photos))\r\n}\r\n\r\nexport type ProfileDataType = {\r\n    fullName?: string\r\n    aboutMe?: string\r\n    lookingForAJob?: boolean\r\n    lookingForAJobDescription?: string\r\n    contacts?: {\r\n        github?: string\r\n        vk?: string\r\n        facebook?: string\r\n        instagram?: string\r\n        twitter?: string\r\n        website?: string\r\n        youtube?: string\r\n        mainLink?: string\r\n    }\r\n\r\n}\r\n\r\nexport const updateProfileThunk = (profileData: ProfileDataType) => async (dispatch: any, getState: () => StateType) => {\r\n    const myID = getState().auth.id\r\n    let response = await profileAPI.updateMyProfile(profileData)\r\n    debugger\r\n    if (response.data.resultCode === 0) {\r\n\r\n        dispatch(getUserProfileThunk(myID))\r\n    }\r\n}\r\n\r\nexport default profileReducer;\r\n\r\n","import React from 'react';\r\nimport classes from './ButtonApp.module.css';\r\n\r\ntype ButtonAppPropsType = {\r\n    nameButton: string\r\n    functionForClick: () => void\r\n}\r\n\r\nexport const ButtonApp = (props: ButtonAppPropsType) => {\r\n    return (\r\n        <button className={classes.butt} onClick={props.functionForClick}>{props.nameButton}</button>\r\n    )\r\n}","\r\nconst SEND_MESSAGE = 'dialog/SEND_MESSAGE'\r\n\r\nexport type dialogNameType = {\r\n    id: number\r\n    name: string\r\n    ava: string\r\n}\r\n\r\nexport type dialogMessageType = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\nexport type dialogsPageType = {\r\n    dialogNames: Array<dialogNameType>\r\n    dialogMessages: Array<dialogMessageType>\r\n}\r\n\r\n\r\nlet initialState = {\r\n    dialogNames: [\r\n        {id: 1, name: \"Sharik\", ava: \"https://wallpaperim.net/_data/i/upload/2014/09/18/20140918448607-c935d187-me.jpg\"},\r\n        {id: 2, name: \"Archi\", ava: \"https://f.vividscreen.info/soft/ecbda7af9f74e75f084553dbfbcdccff/Nice-Dog-Muzzle-640x480.jpg\"},\r\n        {id: 3, name: \"Betty\", ava: \"https://scouteu.s3.amazonaws.com/cards/images_vt/merged/i_feel_so_lonely_without_you_1.jpg\"},\r\n        {id: 4, name: \"Tyzik\", ava: \"http://file.mobilmusic.ru/45/88/24/1369559-240.jpg\"},\r\n        {id: 5, name: \"Baron\", ava: \"https://i.ytimg.com/vi/S1C608GfriM/hqdefault.jpg\"},\r\n    ] as Array<dialogNameType>,\r\n    dialogMessages: [\r\n        {id: 1, message: \"Gav Gav\"},\r\n        {id: 2, message: \"RRRR\"},\r\n        {id: 3, message: \"Af Af\"},\r\n        {id: 4, message: \"AYYYYYYyyyy\"},\r\n        {id: 5, message: \"Tzyav\"},\r\n    ] as Array<dialogMessageType>,\r\n};\r\n\r\nexport const dialogReducer = (state: dialogsPageType = initialState, action: ActionDialogType) :dialogsPageType => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.NewText\r\n            return  {...state,\r\n                dialogMessages: [...state.dialogMessages, {id: 6, message: body} ]}\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport type SendMessageType = ReturnType<typeof sendMessageCreator>\r\ntype ActionDialogType = SendMessageType\r\n\r\nexport const sendMessageCreator = (messageText: string) => ({type: SEND_MESSAGE, NewText: messageText} as const)\r\n\r\nexport default dialogReducer;\r\n","import {userAPI} from \"../api/api\";\r\nimport {AxiosResponse} from \"axios\";\r\n\r\nexport type locationType = {\r\n    city: string\r\n    country: string\r\n}\r\n\r\nexport type photosType = {\r\n    small: string | null\r\n    large: string | null\r\n}\r\n\r\nexport type UserType = {\r\n    name: string\r\n    id: number\r\n    uniqueUrlName: string | null\r\n    photos: photosType\r\n    status: string\r\n    followed: boolean\r\n    photoUrl?: string\r\n    location?: locationType\r\n}\r\n\r\nexport type UsersType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<any>\r\n}\r\n\r\nconst FOLLOW = 'users/FOLLOW'\r\nconst UNFOLLOW = 'users/UN-FOLLOW'\r\nconst SET_USERS = 'users/SET-USERS'\r\nconst SET_CURRENT_PAGE = 'users/SET-CURRENT-PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET-TOTAL-USERS-COUNT'\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE-IS-FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initialState: UsersType = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 15368,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state: UsersType = initialState, action: ActionUserType): UsersType => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(user => user.id === action.userID ? {...user, followed: true} : user)\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(user => user.id === action.userID ? {...user, followed: false} : user)\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state, users: [...action.users]\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state, currentPage: action.pageNumber\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state, totalUsersCount: action.totalCount\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : [...state.followingInProgress.filter(userId => userId !== action.userId)]\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const followAC = (userID: number) => ({type: FOLLOW, userID} as const)\r\nexport const unFollowAC = (userID: number) => ({type: UNFOLLOW, userID} as const)\r\nexport const setUsersAC = (users: Array<UserType>) => ({type: SET_USERS, users} as const)\r\nexport const setCurrentPageAC = (pageNumber: number) => ({type: SET_CURRENT_PAGE, pageNumber} as const)\r\nexport const setTotalUsersCountAC = (totalCount: number) => ({type: SET_TOTAL_USERS_COUNT, totalCount} as const)\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: TOGGLE_IS_FETCHING, isFetching} as const)\r\nexport const followingProgressAC = (isFetching: boolean, userId: number) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n} as const)\r\n\r\nexport type followACReturnType = ReturnType<typeof followAC>\r\nexport type unFollowACReturnType = ReturnType<typeof unFollowAC>\r\nexport type setUsersACReturnType = ReturnType<typeof setUsersAC>\r\nexport type setCurrentReturnType = ReturnType<typeof setCurrentPageAC>\r\nexport type setTotalUsersCountReturnType = ReturnType<typeof setTotalUsersCountAC>\r\nexport type toggleIsFetchingReturnType = ReturnType<typeof toggleIsFetching>\r\nexport type followingProgressReturnType = ReturnType<typeof followingProgressAC>\r\n\r\ntype ActionUserType = followACReturnType | unFollowACReturnType | setUsersACReturnType |\r\n    setCurrentReturnType | setTotalUsersCountReturnType | toggleIsFetchingReturnType | followingProgressReturnType\r\n\r\n\r\nexport const requestUsersThunkCreator = (currentPage: number, pageSize: number) => {\r\n    return async (dispatch: any) => {\r\n        dispatch(toggleIsFetching(true))\r\n        dispatch(setCurrentPageAC(currentPage))\r\n        let data = await userAPI.getUsers(currentPage, pageSize)\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsersAC(data.items))\r\n        dispatch(setTotalUsersCountAC(data.totalCount))\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (\r\n    dispatch: any,\r\n    userId: number,\r\n    apiMethod: (userId: number) => Promise<AxiosResponse<{ items: Array<UserType>, resultCode: number }>>,\r\n    actionCreator: (userId: number) => followACReturnType | unFollowACReturnType\r\n) => {\r\n    dispatch(followingProgressAC(true, userId))\r\n    let response = await apiMethod(userId)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(followingProgressAC(false, userId))\r\n}\r\n\r\nexport const followThunk = (userId: number) => {\r\n    return async (dispatch: any) => {\r\n        followUnfollowFlow(dispatch, userId, userAPI.follow.bind(userAPI), followAC)\r\n    }\r\n}\r\n\r\nexport const unFollowThunk = (userId: number) => {\r\n    return async (dispatch: any) => {\r\n        followUnfollowFlow(dispatch, userId, userAPI.unfollow.bind(userAPI), unFollowAC)\r\n    }\r\n}\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"butt\":\"ButtonApp_butt__2XyHl\"};","import axios, {AxiosResponse} from \"axios\";\r\nimport {UserType} from \"../redux/users-reducer\";\r\nimport {profilePhotoType, profileStatusType, UserProfileType} from \"../redux/profile-reducer\";\r\nimport {AuthType} from \"../redux/auth-reducer\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\"API-KEY\": \"089d3e24-70d2-4632-9ce2-42855d61866e\"},\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n})\r\n\r\nexport const userAPI = {\r\n    getUsers: (currentPage: number, pageSize: number) => {\r\n        return instance.get<void, AxiosResponse<{ items: Array<UserType>, totalCount: number }>>(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    follow (userId: number) {\r\n        return instance.post<void, AxiosResponse<{ items: Array<UserType>, resultCode: number }>>(`follow/${userId}`)\r\n    },\r\n    unfollow (userId: number) {\r\n       return instance.delete<void, AxiosResponse<{ items: Array<UserType>, resultCode: number }>>(`follow/${userId}`)\r\n        },\r\n    getProfile: (userId: string) => {\r\n        return profileAPI.getProfile(userId)\r\n        // return instance.get<void, AxiosResponse<UserProfileType>>(`profile/` + userId)\r\n            }\r\n    }\r\n\r\nexport const profileAPI = {\r\n    getProfile: (userId: string) => {\r\n        return instance.get<void, AxiosResponse<UserProfileType>>(`profile/` + userId)\r\n    },\r\n\r\n    getStatus: (userId: string) => {\r\n        return instance.get<void, AxiosResponse<string>>(`profile/status/` + userId)\r\n    },\r\n\r\n    updateStatus: (newStatus: string) => {\r\n        return instance.put<void, AxiosResponse<profileStatusType>>(`profile/status`, {status: newStatus})\r\n    },\r\n    updatePhoto: (photo: File) => {\r\n        let formData = new FormData()\r\n        formData.append('image', photo)\r\n\r\n        return instance.put<void, AxiosResponse<profilePhotoType>>(`profile/photo`, formData, {headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n        }})\r\n    },\r\n    updateMyProfile: (profileData: any) => {\r\n      return instance.put<void, AxiosResponse<profileStatusType>>(`profile/`, profileData)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n   me() {\r\n       return instance.get<void, AxiosResponse<{ data: AuthType, resultCode: number }>>(`auth/me`)\r\n   },\r\n    login(email: string, password: string, rememberMe: boolean = false, captcha: string) {\r\n       return instance.post<void, AxiosResponse<{resultCode: number, messages: Array<string>, data: {userID: number}}>>(`auth/login`,\r\n           {email, password, rememberMe, captcha})\r\n    },\r\n    logout() {\r\n       return instance.delete<void, AxiosResponse<{resultCode: number, messages: Array<string>, data: object}>>(`auth/login`)\r\n    }\r\n}\r\n\r\ntype CaptchaResponse = {\r\n    url: string\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl () {\r\n        return instance.get<void, AxiosResponse<CaptchaResponse>>(`security/get-captcha-url`)\r\n    }\r\n}\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__1OIvM\",\"item\":\"NavBar_item__39xfh\",\"activeLink\":\"NavBar_activeLink__1f5bY\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from './NavBar.module.css';\r\n\r\nconst NavBar = () => {\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <div className={classes.item}><NavLink to=\"/profile\" activeClassName={classes.activeLink}>ProfileD</NavLink></div>\r\n            <div className={classes.item}><NavLink to=\"/dialogs\" activeClassName={classes.activeLink}>MessagesD</NavLink></div>\r\n            <div className={classes.item}><NavLink to=\"/users\" activeClassName={classes.activeLink}>UsersD</NavLink></div>\r\n            <div className={classes.item}><NavLink to=\"/news\" activeClassName={classes.activeLink}>NewsD</NavLink></div>\r\n            <div className={`${classes.item} ${classes.active}`}><NavLink to=\"/music\" activeClassName={classes.activeLink}>MusicD</NavLink></div>\r\n            <div className={classes.item}><NavLink to=\"settings\" activeClassName={classes.activeLink}>SettingsD</NavLink></div>\r\n        </nav>\r\n    )\r\n}\r\nexport default NavBar;","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport { ButtonApp } from '../ButtonApp';\r\nimport classes from './Header.module.css';\r\nimport {HeaderPropsType} from \"./HeaderContainer\";\r\n\r\n\r\nconst Header = (props: HeaderPropsType) => {\r\n    return (\r\n        <header className={classes.header}>\r\n            <img src={'https://cdn6.f-cdn.com/contestentries/189230/14797445/55214b4cc2224_thumb900.jpg'}/>\r\n\r\n            <div className={classes.loginBlock}>\r\n                {\r\n                    props.isAuth\r\n                        ? <div>Your NickName: {props.login} <p><ButtonApp nameButton={'LogOut'} functionForClick={props.logoutTC}/></p> </div>\r\n                        : <NavLink to={'/login'}>LogIN</NavLink>\r\n                }\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\nexport default Header","import {authAPI, securityAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nexport type AuthType = {\r\n    id: string,\r\n    email: string | null,\r\n    login: string | null,\r\n    isAuth: boolean,\r\n    captcha: string | null\r\n    error: string | null\r\n    // isFetching: boolean\r\n}\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA'\r\nconst GET_CAPTCHA_URL = 'auth/GET_CAPTCHA_URL'\r\nconst GET_AUTH_ERROR= 'auth/GET_AUTH_ERROR'\r\n\r\n\r\nlet initialState: AuthType = {\r\n    id: '20162',\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captcha: null,\r\n    error: null\r\n}\r\n\r\nconst authReducer = (state: AuthType = initialState, action: ActionAuthType): AuthType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        case GET_CAPTCHA_URL:\r\n            return {...state, captcha: action.payload.captchaURL}\r\n        case GET_AUTH_ERROR:\r\n            return {...state, error: action.payload.error}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userID: string | null, email: string | null, login: string | null, isAuth: boolean) =>\r\n    ({type: SET_USER_DATA, payload: {userID, email, login, isAuth}} as const)\r\n\r\nexport const getCaptchaUrlAC = (captchaURL: string) => {\r\n    return ({type: GET_CAPTCHA_URL, payload: {captchaURL}} as const)\r\n}\r\n\r\nexport const getAuthErrorAC = (error: string | null) => {\r\n    return ({type: GET_AUTH_ERROR, payload: {error}} as const)\r\n}\r\n\r\n\r\nexport type setAuthUserDataACReturnType = ReturnType<typeof setAuthUserData>\r\nexport type getCaptchaUrlACReturnType = ReturnType<typeof getCaptchaUrlAC>\r\nexport type getAuthErrorACReturnType = ReturnType<typeof getAuthErrorAC>\r\n\r\ntype ActionAuthType = setAuthUserDataACReturnType | getCaptchaUrlACReturnType | getAuthErrorACReturnType\r\n\r\nexport const getAuthUserDataThunk = () => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n        // деструктуризация\r\n        let {id, email, login} = response.data.data\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\n\r\nexport const loginTC = (email: string, password: string, rememberMe: boolean, captcha: string) => async (dispatch: any) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserDataThunk())\r\n    }  else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaURLTC())\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n        dispatch(getAuthErrorAC(message))\r\n    }\r\n}\r\n\r\nexport const getCaptchaURLTC = () => async (dispatch: any) => {\r\n    let response = await securityAPI.getCaptchaUrl()\r\n    let captchaURL = response.data.url\r\n    dispatch(getCaptchaUrlAC(captchaURL))\r\n}\r\n\r\nexport const logoutTC = () => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport { logoutTC} from \"../../redux/auth-reducer\";\r\nimport {StateType} from \"../../redux/redux-store\";\r\n\r\n\r\nclass HeaderContainer extends React.Component<HeaderPropsType> {\r\n    // componentDidMount() {\r\n    //     this.props.getAuthUserDataWithThunk()\r\n    // }\r\n\r\n    render() {\r\n        return (\r\n            <Header\r\n                {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: StateType): MapStatePropsReturnType => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\ntype MapStatePropsReturnType = {\r\n    isAuth: boolean,\r\n    login: string | null\r\n}\r\n\r\ntype MapDispatchReturnType = {\r\n    // setAuthUserData: (userID: number | null, email: string | null, login: string | null) => void\r\n    // getAuthUserDataWithThunk: () => void\r\n    logoutTC: () => void\r\n}\r\n\r\nexport type HeaderPropsType = MapDispatchReturnType & MapStatePropsReturnType\r\n\r\nexport default connect(mapStateToProps, {\r\n    // setAuthUserData,\r\n    // getAuthUserDataWithThunk: getAuthUserDataThunk,\r\n    logoutTC\r\n})(HeaderContainer)","import {getAuthUserDataThunk} from \"./auth-reducer\";\r\n\r\ntype AppType = {\r\n    initialized: boolean\r\n}\r\n\r\nconst SET_INITIALIZED = 'app/SET_INITIALIZED'\r\n\r\n\r\nlet initialState: AppType = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state: AppType = initialState, action: ActionAuthType): AppType => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setInitializedSuccess = () =>\r\n    ({type: SET_INITIALIZED } as const)\r\n\r\n\r\nexport type setInitializedSuccessACReturnType = ReturnType<typeof setInitializedSuccess>\r\n\r\nexport const initializeAppTC = () => (dispatch: any) => {\r\n   let promise = dispatch(getAuthUserDataThunk())\r\n    promise.then(()=> {\r\n        dispatch(setInitializedSuccess())\r\n    })\r\n}\r\n\r\ntype ActionAuthType = setInitializedSuccessACReturnType\r\n\r\nexport default appReducer;","import {useFormik} from \"formik\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {StateType} from \"../../redux/redux-store\";\r\nimport {loginTC} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\ntype FormikErrorType = {\r\n    email?: string\r\n    password?: string\r\n    rememberMe?: boolean\r\n}\r\n\r\nexport const LoginFormik = () => {\r\n\r\n    const isAuth = useSelector<StateType, boolean>(state => state.auth.isAuth)\r\n    const isAuthError = useSelector<StateType, null | string>(state => state.auth.error)\r\n    const captcha = useSelector<StateType, null | string>(state => state.auth.captcha)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            email: '',\r\n            password: '',\r\n            rememberMe: false,\r\n            captcha: ''\r\n        },\r\n        onSubmit: values => {\r\n            dispatch(loginTC(values.email, values.password, values.rememberMe, values.captcha))\r\n        },\r\n        validate: values => {\r\n            const errors: FormikErrorType = {}\r\n            if (!values.email) {\r\n                errors.email = 'Field Email is required'\r\n            } else {\r\n                return errors\r\n            }\r\n            if (!values.password) {\r\n                errors.password = 'Field Password is required'\r\n            }\r\n            return errors\r\n        }\r\n    })\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <form onSubmit={formik.handleSubmit}>\r\n                <div>\r\n                    <input name={'email'}\r\n                           onChange={formik.handleChange}\r\n                           value={formik.values.email}\r\n                           onBlur={formik.handleBlur}/>\r\n\r\n                    {formik.touched.email && formik.errors.email &&\r\n                    <div style={{color: 'red'}}>{formik.errors.email}</div>}\r\n                </div>\r\n                <div>\r\n                    <input type={'password'}\r\n                           name={'password'}\r\n                           onChange={formik.handleChange}\r\n                           value={formik.values.password}\r\n                           onBlur={formik.handleBlur}/>\r\n                    {formik.touched.password && formik.errors.password &&\r\n                    <div style={{color: 'red'}}>{formik.errors.password}</div>}\r\n                </div>\r\n                <div> Remember Me\r\n                    <input type={'checkbox'}\r\n                           name={'rememberMe'}\r\n                           onChange={formik.handleChange}\r\n                           checked={formik.values.rememberMe}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    {captcha && <div>\r\n                        <img src={captcha}/>\r\n                        <p><input name={'captcha'}\r\n                                  onChange={formik.handleChange}\r\n                                  value={formik.values.captcha}/></p>\r\n                    </div>}\r\n                </div>\r\n\r\n                <button>Login</button>\r\n            </form>\r\n            {isAuthError && <div style={{color: 'red'}}>{isAuthError}</div>}\r\n        </div>\r\n    )\r\n\r\n}","export default __webpack_public_path__ + \"static/media/inProgress.023dc56d.png\";","import React from 'react';\r\nimport picture from '../../assets/images/inProgress.png'\r\n\r\nexport const InProgress = () => {\r\n    return (\r\n        <div>\r\n            <img src={picture}/>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport NavBar from \"./components/NavBar/NavBar\";\r\nimport {BrowserRouter, HashRouter, Redirect, Route, Switch} from 'react-router-dom';\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport {connect} from \"react-redux\";\r\nimport {initializeAppTC} from \"./redux/app-reducer\";\r\nimport {StateType} from \"./redux/redux-store\";\r\nimport {Preloader} from \"./components/common/Preloader/Preloader\";\r\nimport {LoginFormik} from \"./components/Login/LoginFormik\";\r\nimport { InProgress } from './components/InProgress/InProgress';\r\n\r\nconst DialogsWithoutContainer = React.lazy(() => import(\"./components/Dialogs/DialogsWithoutContainer\"))\r\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"))\r\nconst UsersContainer = React.lazy(() => import(\"./components/Users/UsersContainer\"))\r\n\r\nclass App extends React.Component <AppPropsType> {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeAppWithThunk()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <HashRouter>\r\n                <div className={'app-wraper'}>\r\n                    <HeaderContainer/>\r\n                    <NavBar/>\r\n                    <div className={'app-wraper-content'}>\r\n                        <Switch>\r\n                            <Route exact path='/' render={() => <Redirect to={'profile'}/>}/>\r\n                            <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                            <Route path='/dialogs' render={() => <DialogsWithoutContainer\r\n                            />}/>\r\n                            <Route path='/users' render={() => <UsersContainer/>}/>\r\n                            <Route path='/login' render={() => <LoginFormik/>}/>\r\n                            <Route path='/news' render={() => <InProgress/>}/>\r\n                            <Route path='/music' render={() => <InProgress/>}/>\r\n                            <Route path='/settings' render={() => <InProgress/>}/>\r\n                            <Route path='*' render={() => <div>404 - Page not found</div>}/>\r\n\r\n\r\n                        </Switch>\r\n                    </div>\r\n                </div>\r\n            </HashRouter>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: StateType): MapStateReturnType => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nexport default connect(mapStateToProps, {\r\n    initializeAppWithThunk: initializeAppTC,\r\n})\r\n(App)\r\n\r\ntype MapDispatchReturnType = { initializeAppWithThunk: () => void }\r\n\r\ntype MapStateReturnType = { initialized: boolean }\r\n\r\ntype AppPropsType = MapDispatchReturnType & MapStateReturnType","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogReducer from \"./dialog-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    // form: formReducer\r\n    // sidebar: sidebarReducer\r\n});\r\n\r\nexport type StateType = ReturnType<typeof reducers>\r\nexport type StoreType = typeof store\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)\r\n));\r\n\r\n// @ts-ignore\r\nwindow.store = store\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport store from './redux/redux-store'\r\nimport {Provider} from \"react-redux\";\r\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\r\nimport {Preloader} from \"./components/common/Preloader/Preloader\";\r\n\r\nconst renderEntireTree = () => {\r\n    ReactDOM.render(\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <React.Suspense fallback={<Preloader/>}> <App/></React.Suspense>\r\n            </Provider>\r\n        </HashRouter>,\r\n        document.getElementById('root')\r\n    );\r\n}\r\n\r\nrenderEntireTree ()\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}